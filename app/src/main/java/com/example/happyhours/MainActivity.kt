package com.example.happyhoursimport android.os.Bundleimport android.view.Viewimport androidx.appcompat.app.AppCompatActivityimport androidx.core.splashscreen.SplashScreen.Companion.installSplashScreenimport androidx.core.view.isVisibleimport androidx.navigation.NavControllerimport androidx.navigation.fragment.NavHostFragmentimport androidx.navigation.ui.setupWithNavControllerimport by.kirich1409.viewbindingdelegate.viewBindingimport com.example.data.local.prefs.TokenPrefsimport com.google.android.material.bottomnavigation.BottomNavigationViewimport org.koin.android.ext.android.injectclass MainActivity : AppCompatActivity() {    private val tokenPrefs by inject<TokenPrefs>()    private lateinit var bottomNavigationView: BottomNavigationView    override fun onCreate(savedInstanceState: Bundle?) {        installSplashScreen()        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        bottomNavigationView = findViewById(R.id.bottom_nav_view)        val navHostFragment =            supportFragmentManager.findFragmentById(R.id.nav_host_main) as NavHostFragment        val navController = navHostFragment.navController        val navGraph = navController.navInflater.inflate(R.navigation.nav_graph_app)        if (tokenPrefs.access.isNullOrEmpty()) {            navGraph.setStartDestination(com.example.presentation.R.id.nav_graph_auth)        } else {            navGraph.setStartDestination(com.example.presentation.R.id.nav_graph_main)        }        navController.graph = navGraph        setupBottomNavigation(navController)    }    private fun setupBottomNavigation(navController: NavController) {        bottomNavigationView.setupWithNavController(navController)        navController.addOnDestinationChangedListener { _, destination, _ ->            when (destination.id) {                com.example.presentation.R.id.homeFragment,                com.example.presentation.R.id.searchFragment,                com.example.presentation.R.id.profileFragment,                com.example.presentation.R.id.orderHistoryFragment                -> bottomNavigationView.isVisible = true                else -> bottomNavigationView.visibility = View.GONE            }        }    }}